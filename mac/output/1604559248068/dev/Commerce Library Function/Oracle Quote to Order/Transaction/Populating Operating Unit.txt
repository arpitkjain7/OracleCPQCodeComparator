/************************************************************************************************************
Description: Update Operating Unit field on quote header based on Ship To Country & Deal Type
Param:       
Return type: string
History:     Date          Author            Comment 
    02/02/2019    Aditya Suresh        Initial version
    05/09/2019    Satyabrata Acharya   Leveraged String Builder instead of using string concatenation
************************************************************************************************************/

result="";
dlim="~";
dend="|";
operatingUnit = "";
res = bmql("SELECT OU_Name FROM OU_ShiptTo_Mapping WHERE ShipToCountry = $shipToCountry_menu_t AND Group = $dealType_t");

for value in res
 {
 operatingUnit = get(value,"OU_Name");
 } 

 sb1=stringbuilder(result,"1",dlim,"operatingUnit_t",dlim,operatingUnit,dend);
 result= sbtostring(sb1);

 return result;