/********************************************************************
Function Name: partnerEnabledProductsConstraint_brcm
Description: This BML constraint is used to restrict partner users to add only partner enabled flags.
Date: March 8 2019
User Story: UID-24
Author: Raghav/Satya

History:     Date          Author            Comment 
Modified     18/07/2019    Nandhini V                   Modified for 5410

********************************************************************/

existingPartnerGroups = _BM_USER_GROUPS;
searchString = "partner";
part_idx = findinarray(select_avg,true);
partNumber = selectedProductNumberInt_avg;
if(find(existingPartnerGroups,searchString) >= 0)
{ 
 
 resultSet = bmql("SELECT Partner_Enabled FROM BRCM_Part_Master_Ext WHERE MPN=$partNumber");
 for each_record in resultSet
 {
 
  partnerEnabledValue = get(each_record,"Partner_Enabled");
         //Added by Nandhini for 5410: Changed Y to YES. 
         
  if(partnerEnabledValue <> "Yes")
  {
   return true;
  }
 }
}
return false;