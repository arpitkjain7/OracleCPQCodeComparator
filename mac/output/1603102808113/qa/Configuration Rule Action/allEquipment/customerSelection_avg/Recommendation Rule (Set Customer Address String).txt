/*****************************************************************
Function Name :Set Customer Address String
Name :Satyabrata Acharya
Description : This function set customer address string
*****************************************************************/ 
party="";
userpasscode="";
GETURL="";
size=range(customersArrayControl_avg);
for i in size{
if(selectCustomer_t[i]==true){
party=partyNumber_avg[i];
}
}
Details=bmql("SELECT Username, Password, File_Location,SoapEndpoint FROM INT_SYSTEM_DETAILS WHERE System='Address_Search'");
city=replace(city_avg_cs," ","%20");
for detail in Details{
Username=get(detail,"Username");
Password=get(detail,"Password");
if(operatingUnit_avg <> ""){
 GETURL=get(detail,"SoapEndpoint") + party + "/child/Address?q=PartySiteEO_BRCM_Addr_OperatingUnit_c=" + operatingUnit_avg + ";City="+city+";PartySiteEO_BRCM_AddrStatus_c=A&limit=200&fields=AddressType,PartySiteEO_BRCM_SiteUseNumber_c,Address1,City,State,County,Country,PartyId,Address2,Address3,Address4,Status,PostalCode,PartySiteEO_BRCM_Addr_OperatingUnit_c";
}
else{
 GETURL=get(detail,"SoapEndpoint") + party + "/child/Address?limit=200";
}
userpasscode=Username+":"+Password;
}

quoteRequest= "";
payload = dict("string");

str1=encodebase64(userpasscode);
auth="Basic" + " " + str1;
defaultErrorMessage="";
headersDict = dict("string"); 
put(headersDict,"Content-Type","application/json"); 
put(headersDict,"Authorization",auth);
response=Dict("string");
response = urldata(GETURL,"GET",headersDict, "5000");
jsonresponse=get(response,"Message-Body");

return jsonresponse;
/*****************************************************************
Function Name :Set Customer Address City
Name :Rohit Ranjan
Description : This function set customer address City
*****************************************************************/ 
return city_avg_cs;