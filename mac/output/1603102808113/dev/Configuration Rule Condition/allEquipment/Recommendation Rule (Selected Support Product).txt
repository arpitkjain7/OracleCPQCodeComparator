/**********************************************************************************************
Function Name: Constraint on the support parts
Description: In this constraint rule if the requires support is true ,support opt out is false and  support parts picklist is blank then we are making the user to select atleast one support part .
Author: Nandhini Vurimella
Date: 19th feb 2019
**********************************************************************************************/

part_idx = findinarray(select_avg,true);
currdate=getdate();
part = PartNumber_avg[part_idx];
res = bmql("select Support_Required from BRCM_Part_Master_Ext where MPN = $part");
requiresSupport ="";

      for record in res 
 {
 
    requiresSupport = get(record,"Support_Required");
   
 }
 
 if( requiresSupport == "Y" and supportOptOut_avg == false and supportPartsPicklist_avg =="") {
 
     return true;
 }
 else {
 
     return false;
 }