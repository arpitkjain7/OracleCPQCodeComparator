/*********************************************************************
              Function Name: add to quote 
              Description: This library function is used to call updateTransaction for add to Quote action
              Author: Shruti
              User Story #: UID- 101
              Date: 1st march 2019
              ******************************Change Log*****************************

*********************************************************************/

value = "add";
startTime2 = getcurrenttimeinmillis();
//code for calling update transaction for soap v2
dictUpdate= dict("string");
userName = "";
pwd = "";
url = "";
// fetch the username, password, url, template location from INT_SYSTEM_DETAILS data table
fileLocation ="";
put(dictUpdate,"bs_Id",bs_id);
put(dictUpdate,"companyName",_system_company_name);
 resultSet = bmql("SELECT Username,Password,File_Location,SoapEndpoint FROM INT_SYSTEM_DETAILS WHERE System='UPDATE_SAVE'");
 for vals in resultSet{
 userName = get(vals,"Username");
  pwd = get(vals,"Password");
  fileLocation = get(vals,"File_Location");
  url = get(vals,"SoapEndpoint");
 }




 // put userName and password in dictionary
put(dictUpdate,"userName",userName);
put(dictUpdate,"pwd",pwd);

// apply template stored in the file manager 
retVal = applytemplate(fileLocation,dictUpdate,"Not_Found");


// post data in webservice
retVal1 = urldatabypost(url,retVal,"ERROR");

endTime2 = getcurrenttimeinmillis();

logtime("Add to quote - log time",endTime2-startTime2);

return value;